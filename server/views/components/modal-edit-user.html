{% from "components/button.html" import button, iconButton %}

<div data-modal="edit-user" class="fixed top-0 left-0 w-screen h-screen is-hidden sm:flex sm:justify-center sm:items-center">
  <div data-modal-dismiss class="w-full h-full bg-black/50"></div>
  <form data-form="edit-user" data-modal-content action="/users" method="POST" enctype="multipart/form-data" class="absolute top-0 bottom-0 left-0 right-0 flex flex-col h-full m-auto overflow-y-auto bg-white z-1 sm:rounded-2xl sm:max-w-xl sm:h-fit">
    
    <div class="flex items-center justify-between h-16 gap-2 px-4 py-3">
      {{ iconButton(text="Close", color="black", icon='<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>', classes="hidden sm:flex", attributes='data-modal-dismiss type="button"') }}
      {{ iconButton(text="Close", color="black", icon='<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>Arrow Back</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M244 400L100 256l144-144M120 256h292"/></svg>', classes="sm:hidden", attributes='data-modal-dismiss type="button"') }}
      {{ button(children="Save", variant="dark", size="sm", classes="ml-auto", attributes='type="submit"') }}
    </div>

    <div class="bg-black/40 pb-[33.33%] relative">
      <div class="absolute inset-0 m-auto w-max h-max">
        {{ iconButton(text="Change cover image", color="white", attributes='type="button"', icon='<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>') }}
      </div>
      {% if user_profile["user_cover_image"] %}
        <img data-field="cover-image" class="w-full absolute top-0 left-0 aspect-[3/1] object-cover"  src="/static/users/{{ user_profile['user_cover_image'] }}" alt="#">
      {% else %}
        <img data-field="cover-image" class="w-full is-hidden absolute top-0 left-0 aspect-[3/1] object-cover"  src="#" alt="#">
      {% endif %}
    </div>

    <div class="px-4 pt-3 pb-6">
      <div class="flex flex-wrap items-start justify-between gap-4 mb-4">
        <div class="relative -mt-[15%] w-1/4 min-w-[88px] aspect-square" href="#">
          <div class="absolute inset-0 m-auto w-max h-max">
            {{ iconButton(text="Change profile image", color="white", attributes='type="button"', icon='<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>') }}
          </div>
          {% if user_profile["user_profile_image"] %}
            <img class="object-cover object-center w-full h-full border-4 border-white rounded-full aspect-square" src="/static/users/{{ user_profile['user_profile_image'] }}" alt="#">
          {% else %}
            <img class="object-cover object-center w-full h-full border-4 border-white rounded-full aspect-square" src="/static/images/default-profile-image.png" alt="#">
          {% endif %}
        </div>
      </div>  

      <div class="relative w-full mb-6">
        <input class="w-full px-2 pt-6 pb-2 placeholder-transparent border border-gray-300 rounded-md outline-none focus:border-primary-200 focus:shadow-focus h-14 peer" type="text" name="user_name" id="user-edit-name" placeholder="Name">
        <label class="absolute left-0 px-2 text-sm transition-all text-primary-200 top-1 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:top-1 peer-focus:text-primary-200 peer-focus:text-sm" for="user-edit-name">Name</label>
      </div>
  
      <div class="relative w-full mb-6">
        <input class="w-full px-2 pt-6 pb-2 placeholder-transparent border border-gray-300 rounded-md outline-none focus:border-primary-200 focus:shadow-focus h-14 peer" type="text" name="user_bio" id="user-edit-bio" placeholder="Bio">
        <label class="absolute left-0 px-2 text-sm transition-all text-primary-200 top-1 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:top-1 peer-focus:text-primary-200 peer-focus:text-sm" for="user-edit-bio">Bio</label>
      </div>
  
      <div class="relative w-full mb-6">
        <input class="w-full px-2 pt-6 pb-2 placeholder-transparent border border-gray-300 rounded-md outline-none focus:border-primary-200 focus:shadow-focus h-14 peer" type="text" name="user_location" id="user-edit-location" placeholder="Location">
        <label class="absolute left-0 px-2 text-sm transition-all text-primary-200 top-1 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:top-1 peer-focus:text-primary-200 peer-focus:text-sm" for="user-edit-location">Location</label>
      </div>
  
      <div class="relative w-full mb-6">
        <input class="w-full px-2 pt-6 pb-2 placeholder-transparent border border-gray-300 rounded-md outline-none focus:border-primary-200 focus:shadow-focus h-14 peer" type="text" name="user_website" id="user-edit-website" placeholder="Website">
        <label class="absolute left-0 px-2 text-sm transition-all text-primary-200 top-1 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:top-1 peer-focus:text-primary-200 peer-focus:text-sm" for="user-edit-website">Website</label>
      </div>
    </div>
    
  </form>
</div>